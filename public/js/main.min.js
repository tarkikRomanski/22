$(document).ready(function(){function e(e){var t=document.getElementById("characters");if("male"==e){var o=document.getElementById("female-character");null!==o&&o.parentNode.removeChild(o);var r=document.createElement("div"),a=document.createElement("input"),l=document.createElement("label"),c=document.createElement("img"),n=document.createElement("input"),d=document.createElement("label"),m=document.createElement("img"),s=document.createElement("input"),i=document.createElement("label"),u=document.createElement("img"),p=document.createElement("input"),h=document.createElement("label"),k=document.createElement("img"),b=document.createElement("input"),f=document.createElement("label"),B=document.createElement("img");c.setAttribute("src","/img/character_m1.png"),l.setAttribute("for","m1"),l.appendChild(c),a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","character"),a.setAttribute("value","character_m1"),a.setAttribute("id","m1"),a.className="character",m.setAttribute("src","/img/character_m2.png"),d.setAttribute("for","m2"),d.appendChild(m),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","character"),n.setAttribute("value","character_m2"),n.setAttribute("id","m2"),n.className="character",u.setAttribute("src","/img/character_m3.png"),i.setAttribute("for","m3"),i.appendChild(u),s.setAttribute("type","radio"),s.setAttribute("checked","checked"),s.setAttribute("name","character"),s.setAttribute("value","character_m3"),s.setAttribute("id","m3"),s.className="character",k.setAttribute("src","/img/character_m4.png"),h.setAttribute("for","m4"),h.appendChild(k),p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","character"),p.setAttribute("value","character_m4"),p.setAttribute("id","m4"),p.className="character",B.setAttribute("src","/img/character_m5.png"),f.setAttribute("for","m5"),f.appendChild(B),b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","character"),b.setAttribute("value","character_m5"),b.setAttribute("id","m5"),b.className="character",r.setAttribute("id","male-character"),r.appendChild(a),r.appendChild(l),r.appendChild(n),r.appendChild(d),r.appendChild(s),r.appendChild(i),r.appendChild(p),r.appendChild(h),r.appendChild(b),r.appendChild(f),t.appendChild(r)}else{var o=document.getElementById("male-character");null!==o&&o.parentNode.removeChild(o);var v=document.createElement("div"),g=document.createElement("input"),T=document.createElement("label"),x=document.createElement("img"),C=document.createElement("input"),$=document.createElement("label"),y=document.createElement("img"),E=document.createElement("input"),A=document.createElement("label"),N=document.createElement("img");x.setAttribute("src","/img/character_fm1.png"),T.setAttribute("for","mf1"),T.appendChild(x),g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","character"),g.setAttribute("value","character_fm1"),g.setAttribute("id","mf1"),g.className="character",y.setAttribute("src","/img/character_fm2.png"),$.setAttribute("for","mf2"),$.appendChild(y),C.setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","character"),C.setAttribute("value","character_fm2"),C.setAttribute("id","mf2"),C.className="character",N.setAttribute("src","/img/character_fm3.png"),A.setAttribute("for","mf3"),A.appendChild(N),E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","character"),E.setAttribute("value","character_fm3"),E.setAttribute("id","mf3"),E.className="character",v.setAttribute("id","female-character"),v.appendChild(g),v.appendChild(T),v.appendChild(C),v.appendChild($),v.appendChild(E),v.appendChild(A),t.appendChild(v)}}null!==document.getElementById("voice")&&$("#voice").click(function(){$(this).hasClass("voice")?($(this).removeClass("voice").addClass("unvoice"),music.pause()):($(this).addClass("voice").removeClass("unvoice"),music.play())}),null!==document.getElementById("registerForm")&&$("#registerForm").submit(function(e){$("#password").val().length<6?(passwordBlock=document.getElementById("password-block"),passwordBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("The password must be at least 6 characters."),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),passwordBlock.appendChild(errorBlock),$("html, body").animate({scrollTop:$("#password-block").offset().top},500),setTimeout(function(){passwordBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#password").val()!=$("#password-confirm").val()&&(passwordBlock=document.getElementById("password-block"),passwordBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("The password confirmation does not match."),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),passwordBlock.appendChild(errorBlock),$("html, body").animate({scrollTop:$("#password-block").offset().top},500),setTimeout(function(){passwordBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),null!==document.getElementById("characters")&&(e($('[name="sex"]').val()),$('[name="sex"]').change(function(){e($(this).val())})),null!==document.getElementById("showDailyStatistic")&&$("#showDailyStatistic").click(function(){$.ajax({url:"/tstatistic",method:"get",success:function(e){$("#modal").find(".modal-content").html(e),$("#modal").modal("show")}})}),null!==document.getElementById("todoListBlock")&&$.ajax({url:"/todo/list",method:"get",success:function(e){$("#todoListBlock").html(e),null!==document.getElementById("newTodoButton")&&$("#newTodoButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Adding new 2Do</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <div class="modal-body">                 <form id="todoAddForm" action="/todo/add" method="post" role="form">                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="title" class="form-control-label">Title:</label>                     <input type="text" class="form-control" id="title" name="title">                 </div>                 <div class="form-group">                     <label for="description" class="form-control-label">Description:</label>                     <textarea class="form-control" id="description" name="description"></textarea>                 </div>                <fieldset class="form-group">                 <legend>When execute?</legend>             <div class="form-check">                 <label class="form-check-label">                 <input type="radio" class="form-check-input" name="when" id="today" value="today" checked>                                 Today             </label>             </div>             <div class="form-check">                 <label class="form-check-label">                 <input type="radio" class="form-check-input" name="when" id="tomorrow" value="tomorrow">                 Tomorrow             </label>             </div>             </fieldset>             ',o='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Add new 2Do</button>             </div>             ',r=e+t+o;$("#modal").find(".modal-content").html("").append(r).find("#todoAddForm").submit(function(e){""==$("#title").val()?(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald title empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#title").val().length>60&&(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 60 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),$("#modal").modal("show")}),document.getElementsByClassName("view-todo").length>0&&$(".view-todo").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',o='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',r='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',a=t+o+r;$("#modal").find(".modal-content").html("").append(a),$("#modal").modal("show"),$.ajax({url:"/todo/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})}),$("#todoListBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/todo/"+targetId+"/status",method:"get"})}),$("#todoListBlock").find(".delete-todo").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/todo/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("todo"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}}),null!==document.getElementById("userTeamBlock")&&($.ajax({url:"/team/get",method:"get",success:function(e){$("#createdTeamsBlock").html(e),$("#openCreateTeamButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Create new team</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <form id="teamAddForm" action="/team/add" method="post" role="form">                 <div class="modal-body">                 <div style="text-align: center">                 <img src="img/giphy9.gif">                 </div>                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="name" class="form-control-label">Name:</label>                     <input type="text" class="form-control" id="name" name="name">                 </div>                 <div class="form-group">                     <label for="description" class="form-control-label">Description:</label>                     <textarea class="form-control" id="description" name="description"></textarea>                 </div>                 <div class="form-group">                     <label for="color" class="form-control-label">Color:</label>                     <input type="color" class="form-control" id="color" name="color">                 </div>                             ',o='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Create new team</button>             </div>             </form>             ',r=e+t+o;$("#modal").find(".modal-content").html("").append(r).find("#teamAddForm").submit(function(e){""==$("#name").val()?(formBlock=document.getElementById("name").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald name empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#name").val().length>10&&(formBlock=document.getElementById("name").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 10 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),$("#modal").modal("show")})}}),$.ajax({url:"/team/list",method:"get",success:function(e){$("#userTeamBlock").html(e)}}),$.ajax({url:"/team/invite",method:"get",success:function(e){0!=e&&($("#inviteBlock").html('<button id="seeAllInvite" class="btn btn-default">U have <span class="badge badge-default">'+e+"</span> invite</button>"),$("#seeAllInvite").click(function(){$.ajax({url:"/team/get/invite",method:"get",success:function(e){$("#inviteBlock").html(e)}})}))}})),null!==document.getElementById("sendIbviteButton")&&($("#newTodoButton").click(function(){$("html, body").animate({scrollTop:$("#createTeamTodo").offset().top},500)}),$("#sendIbviteButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Sending invite</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <form id="sendInviteForm" role="form">                 <div class="modal-body">                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="name" class="form-control-label">User name or email:</label>                     <input type="text" class="form-control" id="name" name="name">                 </div>             ',o='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Send invite</button>             </div>             </form>             ',r=e+t+o;$("#modal").find(".modal-content").html("").append(r).find("#sendInviteForm").submit(function(e){e.preventDefault(),""==$("#title").val()?(formBlock=document.getElementById("name").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Write user name or email"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3)):$.ajax({url:"/team/invite/"+$("#name").val(),method:"get",success:function(e){0==e?(formBlock=document.getElementById("name").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("User does not exist"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3)):location.href=location.href}})}),$("#modal").modal("show")})),null!==document.getElementById("createTeamTodo")&&$("#createTeamTodo").submit(function(e){""==$("#title").val()?(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald title empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#title").val().length>60&&(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 60 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),null!==document.getElementById("teamTodoListBlock")&&$.ajax({url:"/team/todo/list/"+$('[name="team"]').val(),method:"get",success:function(e){$("#teamTodoListBlock").html(e),document.getElementsByClassName("view-todo").length>0&&$(".view-todo").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',o='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',r='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',a=t+o+r;$("#modal").find(".modal-content").html("").append(a),$("#modal").modal("show"),$.ajax({url:"/team/todo/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})}),$("#teamTodoListBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/team/todo/"+targetId+"/status",method:"get"})}),$("#teamTodoListBlock").find(".delete-todo").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/team/todo/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("todo"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}})});