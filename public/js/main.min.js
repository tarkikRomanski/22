$(document).ready(function(){function e(e){var t=document.getElementById("characters");if("male"==e){var r=document.getElementById("female-character");null!==r&&r.parentNode.removeChild(r);var a=document.createElement("div"),o=document.createElement("input"),c=document.createElement("label"),l=document.createElement("img"),d=document.createElement("input"),n=document.createElement("label"),s=document.createElement("img"),i=document.createElement("input"),m=document.createElement("label"),u=document.createElement("img"),p=document.createElement("input"),h=document.createElement("label"),b=document.createElement("img"),k=document.createElement("input"),f=document.createElement("label"),g=document.createElement("img");l.setAttribute("src","/img/character_m1.png"),c.setAttribute("for","m1"),c.appendChild(l),o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","character"),o.setAttribute("value","character_m1"),o.setAttribute("id","m1"),o.className="character",s.setAttribute("src","/img/character_m2.png"),n.setAttribute("for","m2"),n.appendChild(s),d.setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","character"),d.setAttribute("value","character_m2"),d.setAttribute("id","m2"),d.className="character",u.setAttribute("src","/img/character_m3.png"),m.setAttribute("for","m3"),m.appendChild(u),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","character"),i.setAttribute("value","character_m3"),i.setAttribute("id","m3"),i.className="character",b.setAttribute("src","/img/character_m4.png"),h.setAttribute("for","m4"),h.appendChild(b),p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","character"),p.setAttribute("value","character_m4"),p.setAttribute("id","m4"),p.className="character",g.setAttribute("src","/img/character_m5.png"),f.setAttribute("for","m5"),f.appendChild(g),k.setAttribute("type","radio"),k.setAttribute("checked","checked"),k.setAttribute("name","character"),k.setAttribute("value","character_m5"),k.setAttribute("id","m5"),k.className="character",a.setAttribute("id","male-character"),a.appendChild(o),a.appendChild(c),a.appendChild(d),a.appendChild(n),a.appendChild(i),a.appendChild(m),a.appendChild(p),a.appendChild(h),a.appendChild(k),a.appendChild(f),t.appendChild(a)}else{var r=document.getElementById("male-character");null!==r&&r.parentNode.removeChild(r);var v=document.createElement("div"),B=document.createElement("input"),A=document.createElement("label"),C=document.createElement("img"),E=document.createElement("input"),y=document.createElement("label"),T=document.createElement("img"),x=document.createElement("input"),$=document.createElement("label"),w=document.createElement("img");C.setAttribute("src","/img/character_fm1.png"),A.setAttribute("for","mf1"),A.appendChild(C),B.setAttribute("type","radio"),B.setAttribute("checked","checked"),B.setAttribute("name","character"),B.setAttribute("value","character_fm1"),B.setAttribute("id","mf1"),B.className="character",T.setAttribute("src","/img/character_fm2.png"),y.setAttribute("for","mf2"),y.appendChild(T),E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","character"),E.setAttribute("value","character_fm2"),E.setAttribute("id","mf2"),E.className="character",w.setAttribute("src","/img/character_fm3.png"),$.setAttribute("for","mf3"),$.appendChild(w),x.setAttribute("type","radio"),x.setAttribute("checked","checked"),x.setAttribute("name","character"),x.setAttribute("value","character_fm3"),x.setAttribute("id","mf3"),x.className="character",v.setAttribute("id","female-character"),v.appendChild(B),v.appendChild(A),v.appendChild(E),v.appendChild(y),v.appendChild(x),v.appendChild($),t.appendChild(v)}}null!==document.getElementById("voice")&&$("#voice").click(function(){$(this).hasClass("voice")?($(this).removeClass("voice").addClass("unvoice"),music.pause()):($(this).addClass("voice").removeClass("unvoice"),music.play())}),null!==document.getElementById("registerForm")&&$("#registerForm").submit(function(e){$("#password").val().length<6?(passwordBlock=document.getElementById("password-block"),passwordBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("The password must be at least 6 characters."),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),passwordBlock.appendChild(errorBlock),$("html, body").animate({scrollTop:$("#password-block").offset().top},500),setTimeout(function(){passwordBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#password").val()!=$("#password-confirm").val()&&(passwordBlock=document.getElementById("password-block"),passwordBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("The password confirmation does not match."),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),passwordBlock.appendChild(errorBlock),$("html, body").animate({scrollTop:$("#password-block").offset().top},500),setTimeout(function(){passwordBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),null!==document.getElementById("characters")&&(e($('[name="sex"]').val()),$('[name="sex"]').change(function(){e($(this).val())})),null!==document.getElementById("todoListBlock")&&$.ajax({url:"/todo/list",method:"get",success:function(e){$("#todoListBlock").html(e),null!==document.getElementById("newTodoButton")&&$("#newTodoButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Adding new 2Do</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <div class="modal-body">                 <form id="todoAddForm" action="/todo/add" method="post" role="form">                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="title" class="form-control-label">Title:</label>                     <input type="text" class="form-control" id="title" name="title">                 </div>                 <div class="form-group">                     <label for="description" class="form-control-label">Description:</label>                     <textarea class="form-control" id="description" name="description"></textarea>                 </div>                <fieldset class="form-group">                 <legend>When execute?</legend>             <div class="form-check">                 <label class="form-check-label">                 <input type="radio" class="form-check-input" name="when" id="today" value="today" checked>                                 Today             </label>             </div>             <div class="form-check">                 <label class="form-check-label">                 <input type="radio" class="form-check-input" name="when" id="tomorrow" value="tomorrow">                 Tomorrow             </label>             </div>             </fieldset>             ',r='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Add new 2Do</button>             </div>             ',a=e+t+r;$("#modal").find(".modal-content").html("").append(a).find("#todoAddForm").submit(function(e){""==$("#title").val()?(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald title empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#title").val().length>60&&(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 60 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),$("#modal").modal("show")}),document.getElementsByClassName("view-todo").length>0&&$(".view-todo").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',r='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',a='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',o=t+r+a;$("#modal").find(".modal-content").html("").append(o),$("#modal").modal("show"),$.ajax({url:"/todo/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})}),$("#todoListBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/todo/"+targetId+"/status",method:"get"})}),$("#todoListBlock").find(".delete-todo").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/todo/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("todo"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}})});