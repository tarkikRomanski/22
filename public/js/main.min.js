var showDailyStatistic=function(){$.ajax({url:"/tstatistic",method:"get",success:function(e){$("#modal").find(".modal-content").html(e),$("#modal").modal("show")}})},showTodoList=function(e){$.ajax({url:"/todo/list/"+e,method:"get",success:function(e){$("#todoListBlock").html(e),null!==document.getElementById("newTodoButton")&&$("#newTodoButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Adding new 2Do</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <div class="modal-body">                 <form id="todoAddForm" action="/todo/add" method="post" role="form">                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="title" class="form-control-label">Title:</label>                     <input type="text" class="form-control" id="title" name="title">                 </div>                 <div class="form-group">                     <label for="description" class="form-control-label">Description:</label>                     <textarea class="form-control" id="description" name="description"></textarea>                 </div>                <fieldset class="form-group">                 <legend>When execute?</legend>             <div class="form-check">                 <label class="form-check-label">                 <input type="radio" class="form-check-input" name="when" id="today" value="today" checked>                                 Today             </label>             </div>             <div class="form-check">                 <label class="form-check-label">                 <input type="radio" class="form-check-input" name="when" id="tomorrow" value="tomorrow">                 Tomorrow             </label>             </div>             </fieldset>             ',o='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Add new 2Do</button>             </div>             ',a=e+t+o;$("#modal").find(".modal-content").html("").append(a).find("#todoAddForm").submit(function(e){""==$("#title").val()?(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald title empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#title").val().length>60&&(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 60 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),$("#modal").modal("show")}),document.getElementsByClassName("view-todo").length>0&&$(".view-todo").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',o='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',a='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',r=t+o+a;$("#modal").find(".modal-content").html("").append(r),$("#modal").modal("show"),$.ajax({url:"/todo/"+e,method:"get",success:function(t){$("#modal").find(".modal-content").html("").append(t),$("#editButton").click(function(){$.ajax({url:"/todo/edit/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})})}})}),$("#todoListBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/todo/"+targetId+"/status",method:"get",success:function(){changeDate="today"==$("#changeTodoListDateButton").attr("data-target")?"tomorrow":"today",showTodoList(changeDate)}})}),$("#todoListBlock").find(".delete-todo").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/todo/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("todo"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}})};$(document).ready(function(){function e(e){var t=document.getElementById("characters");if("male"==e){var o=document.getElementById("female-character");null!==o&&o.parentNode.removeChild(o);var a=document.createElement("div"),r=document.createElement("input"),l=document.createElement("label"),n=document.createElement("img"),c=document.createElement("input"),d=document.createElement("label"),s=document.createElement("img"),i=document.createElement("input"),m=document.createElement("label"),u=document.createElement("img"),p=document.createElement("input"),h=document.createElement("label"),f=document.createElement("img"),k=document.createElement("input"),b=document.createElement("label"),v=document.createElement("img");n.setAttribute("src","/img/character_m1.png"),l.setAttribute("for","m1"),l.appendChild(n),r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","character"),r.setAttribute("value","character_m1"),r.setAttribute("id","m1"),r.className="character",s.setAttribute("src","/img/character_m2.png"),d.setAttribute("for","m2"),d.appendChild(s),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","character"),c.setAttribute("value","character_m2"),c.setAttribute("id","m2"),c.className="character",u.setAttribute("src","/img/character_m3.png"),m.setAttribute("for","m3"),m.appendChild(u),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","character"),i.setAttribute("value","character_m3"),i.setAttribute("id","m3"),i.className="character",f.setAttribute("src","/img/character_m4.png"),h.setAttribute("for","m4"),h.appendChild(f),p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","character"),p.setAttribute("value","character_m4"),p.setAttribute("id","m4"),p.className="character",v.setAttribute("src","/img/character_m5.png"),b.setAttribute("for","m5"),b.appendChild(v),k.setAttribute("type","radio"),k.setAttribute("checked","checked"),k.setAttribute("name","character"),k.setAttribute("value","character_m5"),k.setAttribute("id","m5"),k.className="character",a.setAttribute("id","male-character"),a.appendChild(r),a.appendChild(l),a.appendChild(c),a.appendChild(d),a.appendChild(i),a.appendChild(m),a.appendChild(p),a.appendChild(h),a.appendChild(k),a.appendChild(b),t.appendChild(a)}else{var o=document.getElementById("male-character");null!==o&&o.parentNode.removeChild(o);var g=document.createElement("div"),B=document.createElement("input"),$=document.createElement("label"),x=document.createElement("img"),T=document.createElement("input"),C=document.createElement("label"),y=document.createElement("img"),E=document.createElement("input"),I=document.createElement("label"),A=document.createElement("img");x.setAttribute("src","/img/character_fm1.png"),$.setAttribute("for","mf1"),$.appendChild(x),B.setAttribute("type","radio"),B.setAttribute("checked","checked"),B.setAttribute("name","character"),B.setAttribute("value","character_fm1"),B.setAttribute("id","mf1"),B.className="character",y.setAttribute("src","/img/character_fm2.png"),C.setAttribute("for","mf2"),C.appendChild(y),T.setAttribute("type","radio"),T.setAttribute("checked","checked"),T.setAttribute("name","character"),T.setAttribute("value","character_fm2"),T.setAttribute("id","mf2"),T.className="character",A.setAttribute("src","/img/character_fm3.png"),I.setAttribute("for","mf3"),I.appendChild(A),E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","character"),E.setAttribute("value","character_fm3"),E.setAttribute("id","mf3"),E.className="character",g.setAttribute("id","female-character"),g.appendChild(B),g.appendChild($),g.appendChild(T),g.appendChild(C),g.appendChild(E),g.appendChild(I),t.appendChild(g)}}null!==document.getElementById("voice")&&$("#voice").click(function(){$(this).hasClass("voice")?($(this).removeClass("voice").addClass("unvoice"),music.pause()):($(this).addClass("voice").removeClass("unvoice"),music.play())}),null!==document.getElementById("registerForm")&&$("#registerForm").submit(function(e){$("#password").val().length<6?(passwordBlock=document.getElementById("password-block"),passwordBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("The password must be at least 6 characters."),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),passwordBlock.appendChild(errorBlock),$("html, body").animate({scrollTop:$("#password-block").offset().top},500),setTimeout(function(){passwordBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#password").val()!=$("#password-confirm").val()&&(passwordBlock=document.getElementById("password-block"),passwordBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("The password confirmation does not match."),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),passwordBlock.appendChild(errorBlock),$("html, body").animate({scrollTop:$("#password-block").offset().top},500),setTimeout(function(){passwordBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),null!==document.getElementById("characters")&&(e($('[name="sex"]').val()),$('[name="sex"]').change(function(){e($(this).val())})),null!==document.getElementById("showDailyStatistic")&&$("#showDailyStatistic").click(function(){showDailyStatistic()}),null!==document.getElementById("todoListBlock")&&(showTodoList("today"),$("#changeTodoListDateButton").click(function(){showTodoList($(this).attr("data-target")),$(this).html("Today"==$(this).html()?"Tomorrow":"Today").attr("data-target","today"==$(this).attr("data-target")?"tomorrow":"today")})),null!==document.getElementById("imgNav")&&($(".navItem").click(function(){$(".navItem.activeItem").removeClass("activeItem"),$(this).addClass("activeItem"),$("#mainContentBlock").html('<div class="loader">Loading...</div>'),$.ajax({url:"/page/"+$(this).attr("data-target"),method:"get",success:function(e){$("#mainContentBlock").html(e),null!==document.getElementById("userTeamBlock")&&($.ajax({url:"/team/get",method:"get",success:function(e){$("#createdTeamsBlock").html(e),$("#openCreateTeamButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Create new team</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <form id="teamAddForm" action="/team/add" method="post" role="form">                 <div class="modal-body">                 <div style="text-align: center">                 <img src="img/giphy9.gif">                 </div>                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="name" class="form-control-label">Name:</label>                     <input type="text" class="form-control" id="name" name="name">                 </div>                 <div class="form-group">                     <label for="description" class="form-control-label">Description:</label>                     <textarea class="form-control" id="description" name="description"></textarea>                 </div>                 <div class="form-group">                     <label for="color" class="form-control-label">Color:</label>                     <input type="color" class="form-control" id="color" name="color">                 </div>                             ',o='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Create new team</button>             </div>             </form>             ',a=e+t+o;$("#modal").find(".modal-content").html("").append(a).find("#teamAddForm").submit(function(e){""==$("#name").val()?(formBlock=document.getElementById("name").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald name empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#name").val().length>10&&(formBlock=document.getElementById("name").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 10 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),$("#modal").modal("show")})}}),$.ajax({url:"/team/list",method:"get",success:function(e){$("#userTeamBlock").html(e)}}),$.ajax({url:"/team/invite",method:"get",success:function(e){0!=e&&($("#inviteBlock").html('<button id="seeAllInvite" class="btn btn-default">U have <span class="badge badge-default">'+e+"</span> invite</button>"),$("#seeAllInvite").click(function(){$.ajax({url:"/team/get/invite",method:"get",success:function(e){$("#inviteBlock").html(e)}})}))}})),null!==document.getElementById("createEventButton")&&($("#createEventButton").click(function(){$.ajax({url:"/event/add",method:"get",success:function(e){$("#modal").find(".modal-content").html(e),$("#modal").modal("show")}})}),$.ajax({url:"/event/list",method:"get",success:function(e){$("#eventBlock").html(e),$(".view-event").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',o='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',a='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',r=t+o+a;$("#modal").find(".modal-content").html("").append(r),$("#modal").modal("show"),$.ajax({url:"/event/"+e,method:"get",success:function(t){$("#modal").find(".modal-content").html("").append(t),$("#editButton").click(function(){$.ajax({url:"/event/edit/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})})}})}),$("#eventBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/event/"+targetId+"/status",method:"get"})}),$("#eventBlock").find(".delete-event").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/event/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("event"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}}),$.ajax({url:"/event/list/complated",method:"get",success:function(e){$("#complatedEventBlock").html(e),$(".view-event").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',o='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',a='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',r=t+o+a;$("#modal").find(".modal-content").html("").append(r),$("#modal").modal("show"),$.ajax({url:"/event/"+e,method:"get",success:function(t){$("#modal").find(".modal-content").html("").append(t),$("#editButton").click(function(){$.ajax({url:"/event/edit/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})})}})}),$("#complatedEventBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/event/"+targetId+"/status",method:"get"})}),$("#complatedEventBlock").find(".delete-event").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/event/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("event"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}}))}})}),$('[data-target="team"]').click()),null!==document.getElementById("sendIbviteButton")&&($("#newTodoButton").click(function(){$("html, body").animate({scrollTop:$("#createTeamTodo").offset().top},500)}),$("#sendIbviteButton").click(function(){token=$('meta[name="csrf-token"]').attr("content");var e='                 <div class="modal-header">                     <h5 class="modal-title">Sending invite</h5>                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">                         <span aria-hidden="true">&times;</span>                     </button>                 </div>            ',t='                 <form id="sendInviteForm" role="form">                 <div class="modal-body">                 <input name="_token" type="hidden" value="'+token+'" >                <div class="form-group">                     <label for="invite" class="form-control-label">User name or email:</label>                     <input type="text" class="form-control" id="invite" name="invite">                 </div>             ',o='             <div class="modal-footer">                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                 <button class="btn btn-main">Send invite</button>             </div>             </form>             ',a=e+t+o;$("#modal").find(".modal-content").html("").append(a).find("#sendInviteForm").submit(function(e){e.preventDefault(),""==$("#invite").val()?(formBlock=document.getElementById("invite").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Write user name or email"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3)):$.ajax({url:"/team/invite/"+$("#invite").val(),method:"get",success:function(e){0==e?(formBlock=document.getElementById("invite").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("User does not exist"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3)):location.href=location.href}})}),$("#modal").modal("show")})),null!==document.getElementById("createTeamTodo")&&$("#createTeamTodo").submit(function(e){""==$("#title").val()?(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Fiald title empty"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault()):$("#title").val().length>60&&(formBlock=document.getElementById("title").parentNode,formBlock.className+=" has-error",errorBlock=document.createElement("span"),errorBlock.className="help-block",errorTextBlock=document.createElement("strong"),errorText=document.createTextNode("Value should not exceed 60 characters!"),errorTextBlock.appendChild(errorText),errorBlock.appendChild(errorTextBlock),formBlock.appendChild(errorBlock),setTimeout(function(){formBlock.removeChild(errorBlock)},2e3),e.preventDefault())}),null!==document.getElementById("teamTodoListBlock")&&$.ajax({url:"/team/todo/list/"+$('[name="team"]').val(),method:"get",success:function(e){$("#teamTodoListBlock").html(e),document.getElementsByClassName("view-todo").length>0&&$(".view-todo").click(function(){var e=$(this).attr("data-target"),t='                             <div class="modal-header">                                 <h5 class="modal-title"></h5>                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">                                     <span aria-hidden="true">&times;</span>                                 </button>                             </div>                        ',o='                             <div class="modal-body">                             <div class="loader">Loading...</div>                             </div>                         ',a='                         <div class="modal-footer">                             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>                         </div>                         ',r=t+o+a;$("#modal").find(".modal-content").html("").append(r),$("#modal").modal("show"),$.ajax({url:"/team/todo/"+e,method:"get",success:function(t){$("#modal").find(".modal-content").html("").append(t),$("#editButton").click(function(){$.ajax({url:"/team/todo/edit/"+e,method:"get",success:function(e){$("#modal").find(".modal-content").html("").append(e)}})})}})}),$("#teamTodoListBlock").find(".checkbox").change(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/team/todo/"+targetId+"/status",method:"get"})}),$("#teamTodoListBlock").find(".delete-todo").click(function(){targetId=$(this).attr("data-target"),console.log(targetId),$.ajax({url:"/team/todo/"+targetId+"/delete",method:"get",success:function(){parent=document.getElementById("todo"+targetId).parentNode,parent.parentNode.removeChild(parent)}})})}})});